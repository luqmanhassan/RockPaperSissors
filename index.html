<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors Game</title>
    <style>
        h1,
        h3,
        p,
        img {
            text-align: center;
        }
        
        #main {
            display: flex;
            justify-content: space-around;
            margin-top: 100px;
        }
        
        .buttongroup {
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>

<body>
    <div id="header">
        <h1>Rock Paper Sissors</h1>

    </div>

    <div id="main">


        <div id="human">
            <h3>Human</h3>
            <p id="hscore">0</p>
            <div class="buttongroup">
                <button id="hselectrock">Rock</button>
                <button id="hselectpaper">Paper</button>
                <button id="hselectsissors">Sissors</button>
            </div>
            <p id="h_choice"></p>
            <img id="h_imgchoice" src="" width="200px" height="200px" style="display:none">
        </div>

        <div>
            <h3>Vs</h3>
            <p id="roundresult" style="margin-top:50px;"></p>
        </div>

        <div id="computer">
            <h3>Computer</h3>
            <p id="cscore">0</p>
            <div class="buttongroup">
                <button>Rock</button>
                <button>Paper</button>
                <button>Sissors</button>
            </div>
            <p id="c_choice"></p>
            <img id="c_imgchoice" src="" width="200px" height="200px" style="display:none">
        </div>
    </div>

    <script>
        // Human Selection Choices 
        var playerSelection, computerPlay;

        document.getElementById("hselectrock").addEventListener("click", humanChoice1);
        document.getElementById("hselectpaper").addEventListener("click", humanChoice2);
        document.getElementById("hselectsissors").addEventListener("click", humanChoice3);


        function humanChoice1() {
            document.getElementById("h_choice").innerHTML = "Rock";
            document.getElementById("h_imgchoice").src = "images/rock.png";
            document.getElementById("h_imgchoice").style.display = "inline";
            playerSelection = "Rock";
            computerSelection = computerPlay();
            game();
        }

        function humanChoice2() {
            document.getElementById("h_choice").innerHTML = "Paper";
            document.getElementById("h_imgchoice").src = "images/paper.png";
            document.getElementById("h_imgchoice").style.display = "inline";
            playerSelection = "Paper";
            computerSelection = computerPlay();
            game();
        }

        function humanChoice3() {
            document.getElementById("h_choice").innerHTML = "Sissors";
            document.getElementById("h_imgchoice").src = "images/sissors.png";
            document.getElementById("h_imgchoice").style.display = "inline";
            playerSelection = "Sissors";
            computerSelection = computerPlay();
            game();
        }


        function computerPlay() {
            let x, y;

            function getRndInteger(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }
            x = getRndInteger(1, 3);


            switch (x) {
                case 1:
                    y = "Rock";
                    document.getElementById("c_choice").innerHTML = "Rock";
                    document.getElementById("c_imgchoice").src = "images/rock.png";
                    document.getElementById("c_imgchoice").style.display = "inline";
                    break;


                case 2:
                    y = "Paper";
                    document.getElementById("c_choice").innerHTML = "Paper";
                    document.getElementById("c_imgchoice").src = "images/paper.png";
                    document.getElementById("c_imgchoice").style.display = "inline";
                    break;

                case 3:
                    y = "Sissors";
                    document.getElementById("c_choice").innerHTML = "Sissors";
                    document.getElementById("c_imgchoice").src = "images/sissors.png";
                    document.getElementById("c_imgchoice").style.display = "inline";
                    break;

                default:
                    y = "None";

            }

            return y;

        }

        function playRound(playerSelection, computerSelection) {
            let result;
            if (playerSelection == "Rock" && computerSelection == "Rock") {
                result = "Draw";

            } else if (playerSelection == "Rock" && computerSelection == "Paper") {
                result = "CPU Wins & Player Loses";
                addccounter();
            } else if (playerSelection == "Rock" && computerSelection == "Sissors") {
                result = "CPU Loses & Player Wins";

                addhcounter();
            } else if (playerSelection == "Paper" && computerSelection == "Rock") {
                result = "CPU Loses & Player Wins";
                addhcounter();
            } else if (playerSelection == "Paper" && computerSelection == "Paper") {
                result = "Draw";

            } else if (playerSelection == "Paper" && computerSelection == "Sissors") {
                result = "CPU Wins & Player Loses";
                addccounter();

            } else if (playerSelection == "Sissors" && computerSelection == "Rock") {
                result = "CPU Wins & Player Loses";
                addccounter();

            } else if (playerSelection == "Sissors" && computerSelection == "Paper") {
                result = "CPU Loses & Player Wins";

                addhcounter();
            } else if (playerSelection == "Sissors" && computerSelection == "Sissors") {
                result = "Draw";

            }

            document.getElementById("roundresult").innerHTML = result;
        }

        var addccounter = (function() {
            var ccounter = 0;
            return function() {
                ccounter += 1;
                document.getElementById("cscore").innerHTML = ccounter;
                if (ccounter == 5) {
                    window.alert("Game Over! CPU Won");
                    location.reload();
                }
            }
        })();

        var addhcounter = (function() {
            var hcounter = 0;
            return function() {
                hcounter += 1;
                document.getElementById("hscore").innerHTML = hcounter;
                if (hcounter == 5) {
                    window.alert("Game Over! Player Won");
                    location.reload();
                }

            }
        })();


        function game() {
            playRound(playerSelection, computerSelection);
        }
    </script>
</body>

</html>